<div class="panel">
  <h3>审核通过</h3>

  <div class="panel_contents">
    <div class="work-order-info">
      <h4>工单信息</h4>
      <table>
        <tr>
          <th>工单ID</th>
          <td><%= @audit_work_order.id %></td>
        </tr>
        <tr>
          <th>报销单号</th>
          <td><%= @audit_work_order.reimbursement.invoice_number %></td>
        </tr>
        <tr>
          <th>问题类型</th>
          <td><%= @audit_work_order.problem_type %></td>
        </tr>
        <tr>
          <th>问题描述</th>
          <td><%= @audit_work_order.problem_description %></td>
        </tr>
      </table>
    </div>

    <%= semantic_form_for [:admin, @audit_work_order], url: do_approve_admin_audit_work_order_path(@audit_work_order), method: :post do |f| %>
      <%= f.inputs do %>
        <%= f.input :audit_comment, label: "审核意见", input_html: { rows: 3 }, required: true %>
        <%= f.input :audit_date, label: "审核日期", as: :date_select, input_html: { value: Date.today } %>
        <%= f.input :vat_verified, label: "增值税发票已验证" %>
        <%= f.input :problem_type, as: :hidden %>
        <%= f.input :problem_description, as: :hidden %>
        <%= f.input :remark, as: :hidden %>
        <%= f.input :processing_opinion, as: :hidden %>
      <% end %>

      <div class="actions">
        <%= f.submit "确认通过", class: "button" %>
        <%= link_to "取消", admin_audit_work_order_path(@audit_work_order), class: "button" %>
      </div>
    <% end %>
  </div>
</div>

<style>
  .work-order-info {
    margin-bottom: 20px;
  }

  .work-order-info table {
    width: 100%;
    border-collapse: collapse;
  }

  .work-order-info th, .work-order-info td {
    padding: 8px;
    border: 1px solid #ddd;
    text-align: left;
  }

  .work-order-info th {
    width: 120px;
    background-color: #f5f5f5;
  }

  .actions {
    margin-top: 20px;
    text-align: right;
  }

  .button {
    margin-left: 10px;
  }
</style>