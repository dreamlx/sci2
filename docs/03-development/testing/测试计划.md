# 工单系统测试计划 (V5)

## 更新日志
- 2025年6月4日：更新了测试用例以匹配界面调整方案，包括费用类型标签显示、问题类型多选和移除审核意见自动填充功能的测试。

## 目录

- [1. 测试目标与范围](#1-测试目标与范围)
- [2. 测试环境](#2-测试环境)
- [3. 测试数据准备](#3-测试数据准备)
- [4. 测试用例分类](#4-测试用例分类)
- [5. 数据导入测试](#5-数据导入测试)
- [6. 工单处理与报销单状态联动测试](#6-工单处理与报销单状态联动测试)
- [7. 工单关联关系测试](#7-工单关联关系测试)
- [8. 费用明细验证测试](#8-费用明细验证测试)
- [9. 集成测试场景](#9-集成测试场景)
- [10. 测试执行计划](#10-测试执行计划)
- [11. 测试报告模板](#11-测试报告模板)

## 1. 测试目标与范围

### 测试目标

1. 验证工单系统的核心功能是否按照设计规范正常工作
2. 确保数据导入功能能够正确处理各类CSV文件
3. 测试工单与报销单的关联关系是否正确建立和维护
4. 确保选定的"费用明细组"与工单的关联固定不变，以及工单内"问题条目"的正确应用逻辑
5. 测试系统在各种边界条件和异常情况下的行为
6. 验证报销单状态 (pending_receipt, processing, closed) 的正确流转逻辑
7. 验证报销单进入 closed 状态后，工单不可创建和修改
8. 验证统一问题代码库（数据库表）的正确使用及两级级联下拉功能
9. 验证费用明细状态由最新工单决定的原则
10. 验证新的界面交互方式，包括费用类型标签显示、问题类型多选和手动输入审核意见
### 测试范围

- **数据导入模块**：报销单、快递收单、操作历史、费用明细的CSV导入功能
- **工单处理模块**：三种工单类型（快递收单工单、审核工单、沟通工单）的创建与处理。审核工单与沟通工单逻辑一致。
- **工单核心逻辑模块**：审核/沟通工单创建时选择固定的"费用明细组"，工单内可添加多个"问题条目"，每个问题条目应用于整个费用明细组。
- **问题选择模块**：统一的两级级联问题选择（费用类型、问题类型），问题类型支持多选，费用类型自动根据选择的费用明细显示为标签。
- **费用明细状态管理模块**：费用明细的最终审计状态（problematic, verified）如何根据所有关联工单的结论综合判定。
- **工单关联模块**：工单与报销单的关联，工单与其选择的"费用明细组"的关联，工单与其"问题条目"列表的关联。
- **报销单状态管理模块**：报销单状态 (pending_receipt, processing, closed) 的变更及相关操作限制。
- **问题代码库模块**：数据库中存储的统一问题代码（两级结构）的正确性和可维护性（管理功能暂不测试）。
- **界面交互模块**：费用类型标签显示、问题类型多选复选框、审核意见手动输入等新界面交互方式。

## 2. 测试环境

### 开发环境

- **操作系统**：macOS/Linux/Windows
- **数据库**：sqlite
- **Ruby版本**：3.0+
- **Rails版本**：7.0+
- **浏览器**：Chrome 最新版、Firefox 最新版、Safari 最新版

### 测试环境

- **测试数据库**：与开发环境隔离的独立测试数据库
- **测试框架**：Rails内置测试框架（Minitest）
- **测试类型**：单元测试、集成测试、系统测试
- **CI/CD**：GitHub Actions 或 Jenkins

## 3. 测试数据准备

### 基础测试数据

1. **报销单数据**：
   - 普通报销单（`is_electronic_invoice` 会被快递收单置为 `false`）
   - 纯电子发票报销单（无快递收单, `is_electronic_invoice` 保持 `true`）
   - 不同状态的报销单（pending_receipt、processing、closed）
   - 包含"个人"类型的单据名称的报销单
   - 包含"学术"类型的单据名称的报销单

2. **快递收单数据**：
   - 匹配已有报销单的快递收单
   - 未匹配报销单的快递收单
   - （V4.2移除：多次收单的情况（一个报销单对应多个快递单）- 简化为一次有效收单即标志为非电子）

3. **费用明细数据**：
   - 不同 `expense_type` 的费用明细
   - 具有不同 `flexible_field_7` 值的费用明细 (用于学术单判断会议类型上下文)
   - 期望最终状态为 `verified` 的费用明细集合
   - 期望最终状态为 `problematic` 的费用明细集合
   - 同时被多个工单（结论可能冲突）关联的费用明细

4. **操作历史数据**：
   - 不同操作类型的历史记录（审批、审批通过、退回等）
   - 不同操作人的历史记录

5. **问题代码库数据 (数据库)**:
   - **核心**：测试数据库中应包含预填充的、符合两层结构（`FeeTypes`, `ProblemTypes`）的问题代码表。
   - 样例数据应覆盖:
     - 个人类型上下文 ("个人"):
       - `FeeTypes`: {code: "00", title: "月度交通费（销售/SMO/CO）", meeting_type: "个人"}
         - `ProblemTypes` (关联到对应的FeeType, {code:"01", title:"燃油费行程问题", sop_description:"...", standard_handling:"..."})
     - 学术类型上下文 (e.g., "学术论坛"):
       - `FeeTypes`: {code: "01", title: "会议整体费用", meeting_type: "学术论坛"}
         - `ProblemTypes` (关联到对应的FeeType, {code:"02", title:"会议议程不完整", sop_description:"...", standard_handling:"..."})
   - 所有`ProblemTypes`记录应包含有效的SOP描述和标准处理方法字段。
   - (可选，低优先级) 准备用于测试问题代码库 *初始化/迁移脚本* 的源文件（如CSV/Excel），包含正确和错误格式的数据行，验证迁移工具的健壮性。

### 测试文件准备

1. **CSV测试文件**：
   - 标准格式的CSV文件
   - 包含中文字符的CSV文件
   - 格式错误的CSV文件（用于测试错误处理）
   - 包含重复数据的CSV文件（用于测试重复处理）
   - 包含部分重复部分新增的混合CSV文件

2. **Excel测试文件**：这里由客户人工测试，我们先不用考虑
   - .xlsx格式文件
   - .xls格式文件
   - 包含多个工作表的Excel文件

3. **测试数据生成脚本**：
   - 开发自动化脚本生成大量测试数据
   - 支持生成不同场景的测试数据集
   - 生成直接approved状态工单的测试数据

## 4. 测试用例分类

### 按功能模块分类

1. **数据导入测试**
2. **工单创建与处理测试**
3. **费用明细验证测试**
4. **工单关联关系测试**
5. **报销单状态管理测试**
6. **表单结构与字段测试**
7. **用户权限分组测试**
8. **界面交互测试**

### 按测试类型分类

1. **单元测试**：测试各个模型和方法的独立功能
2. **集成测试**：测试多个组件之间的交互
3. **系统测试**：测试整个系统的端到端流程
4. **界面测试**：测试用户界面的交互和响应
## 6. 工单处理与报销单状态联动测试

### 6.1 快递收单工单测试

快递收单工单在导入快递收单CSV时自动创建并设置为已完成状态。

| 测试ID | 测试场景 | 测试步骤 | 预期结果 | 优先级 |
|--------|----------|----------|----------|--------|
| WF-E-001 | 快递收单工单自动创建与报销单状态更新 | 1. 导入报销单 (初始状态 `pending_receipt`, `is_electronic_invoice` 为 `true`)<br>2. 导入对应的快递收单数据 | 1. 自动创建快递收单工单<br>2. 收单工单状态设置为completed<br>3. 工单操作人设置为导入用户<br>4. 关联报销单的 `is_electronic_invoice` 更新为 `false`<br>5. 关联报销单状态从 `pending_receipt` 变为 `processing` | 高 |
| WF-E-002 | 快递收单工单关联报销单 | 1. 导入报销单<br>2. 导入对应的快递收单 | 1. 快递收单工单自动关联到报销单 | 高 |

### 6.2 审核与沟通工单处理测试

审核工单与沟通工单逻辑一致，在报销单 show 页面创建。创建任一此类工单会使报销单状态变为 `processing` (如果之前是 `pending`)。工单没有状态变更历史记录。

| 测试ID | 测试场景 | 测试步骤 | 预期结果 | 优先级 |
|--------|----------|----------|----------|--------|
| WF-AC-001 | 审核/沟通工单创建与基础处理 - 通过路径 | 1. 在某报销单详情页面选择创建审核/沟通工单<br>2. **系统要求选择一个或多个该报销单下的费用明细作为此工单的固定范围（存入`WorkOrderFeeDetails`）**<br>3. 选择费用明细后，系统自动显示费用类型标签<br>4. 系统显示按费用类型分组的问题类型复选框<br>5. （可选）选择一个或多个问题类型复选框<br>6. 手动输入审核意见（系统不再自动填充）<br>7. 处理意见：审核通过（工单标记为 `approved`）<br>8. (可选) 填写整体工单备注。 | 1. 工单成功创建并标记为 `approved`<br>2. 关联报销单状态更新为 `processing` (如果之前是 `pending_receipt`)<br>3. 工单关联的"费用明细组"中的所有费用明细，因受此`approved`工单影响，其审核状态贡献为"通过"。<br>4. 若选择了问题类型，其信息被正确记录到工单中。<br>5. 手动输入的审核意见被正确保存。 | 高 |
| WF-AC-002 | 审核/沟通工单创建与基础处理 - 不通过路径 | 1. 在某报销单详情页面选择创建审核/沟通工单<br>2. **系统要求选择一个或多个该报销单下的费用明细作为此工单的固定范围（存入`WorkOrderFeeDetails`）**<br>3. 选择费用明细后，系统自动显示费用类型标签<br>4. 系统显示按费用类型分组的问题类型复选框<br>5. **必须**选择至少一个问题类型复选框<br>6. 手动输入审核意见（系统不再自动填充）<br>7. 处理意见：审核不通过（工单标记为 `rejected`）<br>8. (可选) 填写整体工单备注。 | 1. 工单成功创建并标记为 `rejected`<br>2. 关联报销单状态更新为 `processing` (如果之前是 `pending_receipt`)<br>3. 工单关联的"费用明细组"中的所有费用明细，因受此`rejected`工单影响，其审核状态贡献为"不通过"。<br>4. 选择的问题类型信息被正确记录到工单中。<br>5. 手动输入的审核意见被正确保存。 | 高 |
| WF-AC-003 | 审核/沟通工单处理中保存（待处理） | 1. 在某报销单详情页面选择创建审核/沟通工单<br>2. **系统要求选择一个或多个该报销单下的费用明细作为此工单的固定范围（存入`WorkOrderFeeDetails`）**<br>3. 选择费用明细后，系统自动显示费用类型标签<br>4. (可选) 选择一个或多个问题类型复选框<br>5. 手动输入审核意见（系统不再自动填充）<br>6. 处理意见设置为"待处理/pending_review"或类似状态。<br>7. 保存工单 | 1. 工单成功创建/更新，状态为"待处理/pending_review"<br>2. 关联报销单状态更新为 `processing` (如果之前是 `pending_receipt`)<br>3. 工单关联的"费用明细组"中的所有费用明细，因受此`pending_review`工单影响，其审核状态贡献可能视为"不通过"或"待定"（需明确业务规则，一般存在未解决问题即视为有问题）。 |  高 |
| WF-AC-004 | 审核/沟通工单内添加多个问题 | 1. 创建一个审核/沟通工单，并固定关联一组费用明细。<br>2. 选择费用明细后，系统自动显示费用类型标签<br>3. 系统显示按费用类型分组的问题类型复选框<br>4. 选择多个不同的问题类型复选框<br>5. 手动输入审核意见<br>6. 保存工单。 | 1. 工单成功保存。<br>2. 工单成功关联多个选择的问题类型。<br>3. 所有这些问题逻辑上都应用于该工单固定的那一组费用明细。<br>4. 手动输入的审核意见被正确保存。 | 高 |
| WF-AC-005 | 审核/沟通工单问题类型必填验证（不通过时） | 1. 在报销单show页面创建审核/沟通工单<br>2. 选择费用明细组<br>3. 选择费用明细后，系统自动显示费用类型标签<br>4. 处理意见：无法通过 (rejected)<br>5. **不选择任何问题类型复选框**<br>6. 尝试提交/保存 | 1. 系统显示错误消息<br>2. 要求至少选择一个问题类型 | 高 |

### 6.3 工单表单字段测试

| 测试ID | 测试场景 | 测试步骤 | 预期结果 | 优先级 |
|--------|----------|----------|----------|--------|
| WF-FORM-001 | 工单表单字段完整性验证 | 1. 分别创建审核工单和沟通工单<br>2. 验证表单包含：费用明细选择（用于初始关联，不可更改）、费用类型标签显示区域、问题类型复选框（按费用类型分组）、审核描述文本区域、处理意见下拉列表<br>3. 验证操作人默认为当前用户 | 1. 两种工单表单结构符合最新设计<br />2. 所有必填字段（如处理意见，或在"不通过"时的问题选择）按预期工作<br>3. 费用类型标签正确显示<br>4. 问题类型复选框按费用类型分组显示<br>5. 操作人自动填充为当前用户 | 高 |

### 6.4 报销单关闭 (close) 状态测试

| 测试ID | 测试场景 | 测试步骤 | 预期结果 | 优先级 |
|--------|----------|----------|----------|--------|
| WF-CL-001 | 报销单状态变为 processing | 1. 创建报销单 (初始状态 pending)<br>2. 创建任意类型工单 (快递收单/审核/沟通) | 1. 报销单状态从 pending 变为 processing | 高 |
| WF-CL-002 | 报销单状态从 processing 变为 close | 1. 报销单状态为 processing<br>2. 用户点击"处理完成"按钮 | 1. 报销单状态变为 close | 高 |
| WF-CL-003 | close状态下禁止创建新工单 | 1. 报销单状态为 close<br>2. 尝试创建新的审核工单<br>3. 尝试创建新的沟通工单 | 1. 系统阻止创建新工单<br>2. 显示提示信息 | 高 |
| WF-CL-004 | close状态下禁止修改现有工单 | 1. 报销单状态为 close，已有关联工单<br>2. 尝试修改现有审核工单的内容<br>3. 尝试修改现有沟通工单的内容 | 1. 系统阻止修改工单<br>2. 显示提示信息 | 高 |

### 6.5 界面交互测试

| 测试ID | 测试场景 | 测试步骤 | 预期结果 | 优先级 |
|--------|----------|----------|----------|--------|
| WF-UI-001 | 费用类型标签显示测试 | 1. 选择多个不同费用类型的费用明细<br>2. 观察费用类型标签区域 | 1. 费用类型标签按费用类型分组显示<br>2. 每个标签显示费用类型名称和对应的费用明细数量 | 高 |
| WF-UI-002 | 问题类型多选测试 | 1. 选择多个费用明细，触发费用类型标签显示<br>2. 观察问题类型区域<br>3. 选择多个问题类型复选框<br>4. 保存工单 | 1. 问题类型按费用类型分组显示<br>2. 可以选择多个问题类型<br>3. 多个问题类型成功保存到工单 | 高 |
| WF-UI-003 | 审核意见手动输入测试 | 1. 创建新工单<br>2. 选择费用明细和问题类型<br>3. 观察审核意见文本区域<br>4. 手动输入审核意见<br>5. 保存工单 | 1. 审核意见文本区域初始为空，不自动填充<br>2. 手动输入的审核意见成功保存 | 高 |
| WF-UI-004 | 费用类型标签更新测试 | 1. 选择多个费用明细<br>2. 观察费用类型标签<br>3. 取消选择部分费用明细<br>4. 再次观察费用类型标签 | 1. 费用类型标签随着费用明细选择的变化而更新<br>2. 标签中的数量正确反映选中的费用明细数量 | 中 |
| WF-UI-005 | 问题类型分组显示测试 | 1. 选择包含多种费用类型的费用明细<br>2. 观察问题类型区域 | 1. 问题类型按费用类型分组显示<br>2. 每个费用类型下显示对应的问题类型复选框 | 中 |
## 9. 集成测试场景

NOTICE：第一阶段暂时假设只有一个admin user，简化权限用户测试

| 测试ID | 测试场景 | 测试步骤 | 预期结果 | 优先级 |
|--------|----------|----------|----------|--------|
| INT-001 | 完整报销流程-快递收单到审核完成 | 1. 导入报销单（例如：个人单）<br>2. 导入快递收单（如果非电子发票）<br>3. 在报销单show页面创建审核工单，选择关联的费用明细<br>4. 观察费用类型标签自动显示<br>5. 选择一个或多个问题类型复选框<br>6. 手动输入审核意见<br>7. 将工单处理意见设为 approved<br>8. 用户点击"处理完成"按钮使报销单close | 1. 快递收单工单自动创建并完成（如适用）<br>2. 审核工单成功创建并标记为approved<br>3. 费用类型标签正确显示<br>4. 选择的问题类型成功保存<br>5. 手动输入的审核意见成功保存<br>6. 关联的所有费用明细状态从pending变为verified<br>7. 报销单状态：pending -> processing (因创建工单) -> close (因点击按钮) | 高 |
| INT-002 | 完整报销流程-包含沟通处理 | 1. 导入报销单（例如：学术单）<br>2. 导入快递收单（如适用）<br>3. 在报销单show页面创建审核工单，选择关联费用明细<br>4. 观察费用类型标签自动显示<br>5. 选择一个或多个问题类型复选框<br>6. 手动输入审核意见<br>7. 处理意见设为 rejected<br>8. 观察费用明细状态（应为problematic）<br>9. 创建沟通工单，选择相同费用明细<br>10. 观察费用类型标签自动显示<br>11. 选择一个或多个问题类型复选框<br>12. 手动输入审核意见<br>13. 处理意见设为 approved (表示沟通后问题解决)<br>14. 观察费用明细状态（应为verified）<br>15. 用户点击"处理完成"按钮使报销单close | 1. 所有工单状态正确处理<br>2. 费用类型标签正确显示<br>3. 选择的问题类型成功保存<br>4. 手动输入的审核意见成功保存<br>5. 费用明细状态先变为problematic (因工单A)，后变为verified (因工单B)<br>6. 报销单状态：pending -> processing (因创建工单) -> close (因点击按钮) | 高 |
| INT-004 | 费用明细多工单关联测试 | 1. 导入报销单和一组费用明细 (FD1, FD2)<br>2. 创建审核工单A，关联FD1, FD2<br>3. 观察费用类型标签自动显示<br>4. 选择多个问题类型复选框<br>5. 手动输入审核意见<br>6. 处理意见设为 rejected<br>7. 创建沟通工单B，仅关联FD1<br>8. 观察费用类型标签自动显示<br>9. 选择一个或多个问题类型复选框<br>10. 手动输入审核意见<br>11. 处理意见设为 approved<br>12. 观察FD1和FD2的状态 | 1. FD1, FD2 初始因工单A变为problematic<br>2. FD1 后因工单B变为verified (假设B的处理更新或优先)<br>3. FD2 保持problematic (未被工单B覆盖)<br>4. 费用明细状态跟随最新有效处理的、且覆盖该明细的工单状态变化 | 高 |
| INT-005 | 操作历史影响报销单状态 | 1. 导入报销单<br>2. 创建并处理工单 (报销单状态变为 processing)，工单处理意见为 rejected (费用明细problematic)<br>3. 导入包含审批通过的操作历史数据 | 1. 报销单状态更新为 `close` (基于操作历史导入)<br>2. 工单状态和费用明细状态不受此操作历史导入影响，保持原样（rejected, problematic） | 中 |
| INT-007 | 多个报销单并行处理 | 1. 导入多个报销单<br>2. 对不同报销单并行创建工单、添加不同问题条目、设置不同处理意见<br>3. 观察系统行为 | 1. 各报销单及其关联工单、费用明细的处理互不影响<br>2. 所有工单状态正确处理，报销单状态正确流转 | 低 |
| INT-008 | 直接通过工单测试 | 1. 导入报销单和费用明细<br>2. 创建工单，关联费用明细<br>3. 观察费用类型标签自动显示<br>4. 不选择任何问题类型复选框<br>5. 手动输入审核意见（如"无问题"）<br>6. 将处理意见设置为approved<br>7. 观察费用明细状态变化 | 1. 工单状态直接设置为approved<br>2. 关联的费用明细状态直接变为verified<br>3. 报销单状态变为 processing | 高 |
| INT-009 | 报销单关闭后工单操作限制测试 | 1. 导入报销单、快递单、费用明细<br>2. 创建审核/沟通工单 (报销单变为 processing)<br>3. 观察费用类型标签自动显示<br>4. 选择一个或多个问题类型复选框<br>5. 手动输入审核意见<br>6. 处理工单<br>7. 用户点击"处理完成"按钮使报销单变为 close<br>8. 尝试创建新的审核/沟通工单<br>9. 尝试修改已存在的审核/沟通工单（包括修改审核意见或处理意见） | 1. 新工单无法创建<br>2. 已有工单无法修改<br>3. 报销单保持 close 状态 | 高 |
| INT-010 | 多问题添加测试 | 1. 导入报销单，关联一组费用明细 (FD1, FD2)<br>2. 创建一个审核工单，关联FD1, FD2<br>3. 观察费用类型标签自动显示<br>4. 选择多个不同的问题类型复选框<br>5. 手动输入审核意见<br>6. 将此工单的处理意见设置为"无法通过"<br>7. 观察FD1, FD2状态 | 1. 工单成功关联多个选择的问题类型<br>2. 手动输入的审核意见被正确保存<br>3. 由于工单整体处理意见为"无法通过"，FD1和FD2的状态均变为 problematic<br>4. 报销单状态变为 processing | 高 |
## 10. 测试执行计划

测试执行计划将按照系统实施路线图分为四个主要阶段进行：

### 10.1 数据结构调整阶段测试（5月1日 - 5月4日）

| 测试活动 | 测试内容 | 时间安排 | 负责人 |
|---------|---------|---------|--------|
| 数据库迁移设计评审 | 评审数据库迁移脚本，确保符合设计要求 | 5月2日 | 测试负责人 |
| 数据库迁移测试 | 验证数据库迁移执行成功，表结构符合预期 | 5月4日 | 测试负责人 |
| 数据完整性测试 | 验证迁移后数据的完整性和一致性 | 5月4日 | 测试负责人 |

### 10.2 模型实现阶段测试（5月5日 - 5月12日）

| 测试活动 | 测试内容 | 时间安排 | 负责人 |
|---------|---------|---------|--------|
| 工单基类单元测试 | 测试WorkOrder基类的功能和方法 | 5月7日 | 测试负责人 |
| 审核工单单元测试 | 测试AuditWorkOrder的功能和与费用明细的联动 | 5月9日 | 测试负责人 |
| 沟通工单单元测试 | 测试CommunicationWorkOrder的功能（包括needs_communication标志）和与费用明细的联动 | 5月11日 | 测试负责人 |
| 快递收单工单单元测试 | 测试ExpressReceiptWorkOrder的功能和自动完成逻辑 | 5月12日 | 测试负责人 |

### 10.3 控制器与视图阶段测试（5月13日 - 5月23日）

| 测试活动 | 测试内容 | 时间安排 | 负责人 |
|---------|---------|---------|--------|
| 工单基础控制器测试 | 测试工单基础控制器的CRUD功能（考虑报销单close状态下的限制） | 5月15日 | 测试负责人 |
| 审核工单控制器与视图测试 | 测试审核工单的特定功能和界面展示 | 5月18日 | 测试负责人 |
| 沟通工单控制器与视图测试 | 测试沟通工单的特定功能和界面展示 | 5月21日 | 测试负责人 |
| 快递收单工单控制器与视图测试 | 测试快递收单工单的特定功能和界面展示 | 5月23日 | 测试负责人 |
| 报销单状态管理测试 | 测试报销单 pending, processing, close 状态流转及相关逻辑 (如REL-008, WF-CL系列用例) | 5月22日 | 测试负责人 |
| 界面交互测试 | 测试费用类型标签显示、问题类型多选和审核意见手动输入等新界面交互方式 | 5月20日 | 测试负责人 |

### 10.4 测试与部署阶段（5月24日 - 6月1日）

| 测试活动 | 测试内容 | 时间安排 | 负责人 |
|---------|---------|---------|--------|
| 单元测试执行 | 执行所有单元测试，确保各模块功能正常 | 5月24日-26日 | 测试负责人 |
| 集成测试执行 | 执行集成测试，验证模块间交互正常 | 5月27日-29日 | 测试负责人 |
| 用户验收测试 | 执行用户验收测试，验证系统满足业务需求 | 5月30日-31日 | 测试负责人 |
| 部署前测试 | 在生产环境部署前进行最终测试 | 6月1日 | 测试负责人 |
| 表单结构一致性测试 | 执行INT-003测试用例 | 5月29日 | 测试负责人 |
| 界面交互验收测试 | 执行WF-UI系列测试用例，验证新界面交互方式 | 5月30日 | 测试负责人 |

## 11. 测试报告模板

### 11.1 测试报告概述

测试报告将包含以下内容：

1. **测试概述**：测试目标、范围和执行时间
2. **测试环境**：测试环境配置和版本信息
3. **测试结果摘要**：通过/失败测试用例数量和比例
4. **测试详情**：每个测试用例的执行结果和问题描述
5. **问题跟踪**：发现的缺陷及其严重程度和状态
6. **结论与建议**：测试结论和改进建议

### 11.2 缺陷报告模板

| 字段 | 描述 |
|------|------|
| 缺陷ID | 唯一标识符 |
| 缺陷标题 | 简短描述缺陷 |
| 严重程度 | 严重/高/中/低 |
| 优先级 | 高/中/低 |
| 状态 | 新建/已分配/已修复/已验证/已关闭 |
| 报告人 | 发现缺陷的测试人员 |
| 分配给 | 负责修复的开发人员 |
| 报告日期 | 缺陷报告日期 |
| 修复日期 | 缺陷修复日期 |
| 验证日期 | 缺陷验证日期 |
| 重现步骤 | 详细的重现步骤 |
| 预期结果 | 正确的预期行为 |
| 实际结果 | 实际观察到的行为 |
| 附件 | 截图或日志文件 |
| 备注 | 其他相关信息 |

## 12. 总结

本测试计划针对SCI2工单系统的最新需求变动，特别是界面交互方式的调整，提供了全面的测试策略和测试用例。主要变更包括：

1. 费用类型不再通过下拉列表选择，而是根据选择的费用明细自动以标签形式分组显示
2. 问题类型改为复选框，允许多选问题
3. 审核意见不再自动填充内容，完全由用户手动输入
4. 处理意见仍然决定工单状态

测试计划增加了专门的界面交互测试用例（WF-UI系列），并更新了现有测试用例以反映新的界面交互方式。通过执行这些测试用例，可以确保系统按照新的需求正确实现，并保持核心业务逻辑不变。

测试执行将按照系统实施路线图分为四个主要阶段进行，确保每个阶段的功能都得到充分测试。测试报告将提供详细的测试结果和问题跟踪，帮助开发团队及时发现和解决问题。